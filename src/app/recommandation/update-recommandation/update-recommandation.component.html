<main>
    <div id="results">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h4><strong>Update Recommandation </strong></h4>
        </div>
        <div class="col-md-6">
          <div class="search_bar_list col-md-12">
            <input type="text" style="    margin-right: 15px;" class="col-md-5" name="city" placeholder="Search by city" #city>
            <input type="text" class="col-md-5" name="speciality" placeholder="Search by Speciality" #speciality>
            <input type="submit"  value="Search" (click)="searchByCity(city,speciality)">
          </div>

        </div>
      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  <!-- /breadcrumb -->
  <div class="margin_60_35">
    <div class="container">
      <div class="main_title">


        <h1 *ngIf="affichageall">We recommand you this {{doctors.length}} doctors</h1>
        <h1 *ngIf="affichagecity">We recommand you this {{doctorsSpeciality.length}} doctors</h1>
      </div>
    </div>

    <!-- /pricing-container -->
  </div>


  <!-- /margin_60_35 -->






  <!-- /results -->
  <p *ngIf="message!=null">
    <ngb-alert [dismissible]="false">
      <strong>Message</strong> {{message}}
    </ngb-alert>
  </p>


  <div class="container ">
    <div class="row">
      <div class="col-lg-12 col-md-12">
        <div class="row" *ngIf="affichageall">

          <div class="col-md-4" *ngFor="let d of doctors">
            <div class="box_list ">
              <figure class="cursor">
                <a  (click)="open(content,d.id)"><img [src]="d.picture" class="img-fluid" alt="">
                  <div class="preview"><span>Recommand</span></div>
                </a>
              </figure>
              <div class="wrapper">
                <h6 *ngIf="d.speciality">Speciality: {{d.speciality}}</h6>
                <h3>Dr. {{d.firstname}} {{d.lastname}}</h3>

                <h6 *ngIf="d.email"><i class="icon-post"> </i>{{d.email}} </h6>
                <h6> <i class="icon-address"> </i>{{d.adresse.city}} , {{d.adresse.postal_code}} </h6>
                <h6 *ngIf="d.phone"> <i class="icon-phone"></i> Phone - {{d.phone}} </h6>
              </div>
            </div>
          </div>
          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->

        </div>

        <div class="row" *ngIf="affichagecity">

          <div class="col-md-4" *ngFor="let d of doctorsSpeciality">
            <div class="box_list ">
             
              <figure  class="cursor" (click)="open(content,d.id)">
                <a ><img [src]="d.picture" class="img-fluid" alt="">
                  <div class="preview"><span>Recommand</span></div>
                </a>
              </figure>
              <div class="wrapper">
                <small>{{d.speciality}}</small>
                <h3>Dr. {{d.firstname}} {{d.lastname}}</h3>

                <p><i class="icon-post"> </i>{{d.adresse.postal_code}} <br/> <i class="icon-address"> </i>{{d.adresse.city}} <br/> <i class="icon-phone"></i> Phone - {{d.phone}} </p>

              </div>

            </div>
          </div>
          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->


          <!-- /box_list -->

        </div>
        <!-- /row -->

      </div>
      <!-- /col -->


      <!-- /aside -->

    </div>
    <!-- /row -->
  </div>
  <!-- /container -->

<!-- /main -->




<!-- /container -->
</main>




<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <label >Type of recommandation </label>
        <div class="input-group">
          <input type="text"  class="form-control" name="type" id="type" #type placeholder="Type">
        </div>
        <label >Your justification </label>
        <div class="input-group">
          <input type="text"  class="form-control" name="justification" id="justification" #justification placeholder="Justification">
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="RecommandateDoctor(type,justification)">Save</button>
  </div>
</ng-template>
<style>

  .cursor{
  cursor: pointer;
}

</style>